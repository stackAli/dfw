{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block meta %}
<meta name="description" content="{{ description }}">
<link rel="canonical" href="{{ request.url }}">
<meta property="og:title" content="{{ title }}">
<meta property="og:description" content="{{ description }}">
<meta property="og:type" content="website">
<meta property="og:url" content="{{ request.url }}">
<meta property="og:image" content="/images/hero.jpg">
{% endblock %}

{% block content %}

<!-- ================= HERO ================= -->

<header>
<section class="hero" style="background-image: url('/static/service_hero.jpg');">

  <div class="hero-overlay">
    <h1>{{ hero_title }}</h1>
    <p>{{ hero_subtitle }}</p>

    <a href="/booking" class="btn btn-hero">
      REQUEST ON-SITE SERVICES
    </a>
    <a href="/contact" class="btn-secondary btn-hero"> REQUEST A FREE QUOTE</a>
  </div>
</section>
</header>

<!-- ================= MAIN LAYOUT ================= -->

<main>

<section class="page-wrapper">

<!-- ===== Primary Content ===== -->
<article class="content-area">
  
  {{ content | safe }}
  

</article>

<!-- ===== Sidebar ===== -->

<aside class="help-card" aria-label="Service Information">

  <h3 class="help-title">GET IMMEDIATE HELP</h3>

  <a href="/emergency" class="help-btn">
    24/7 EMERGENCY SERVICE
  </a>

  <a href="tel:{{ phone }}" class="help-btn">
    CALL NOW: {{ phone }}
  </a>

  <div class="divider"></div>

  {% if service_areas %}
  <h4>SERVICE AREAS</h4>
  <ul class="help-list">
    {% for area in service_areas %}
      <li>{{ area }}</li>
    {% endfor %}
  </ul>
  {% endif %}

  <div class="divider"></div>
<style>
  .pill-list{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}

.pill-list li a{
  display:inline-block;
  padding:10px 18px;
  background:#ffffff;
  color:#4f83bf;
  border-radius:999px;
  font-size:13px;
  font-weight:600;
  text-decoration:none;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  transition:.25s ease;
}

.pill-list li a:hover{
  background:#4f83bf;
  color:#ffffff;
  transform:translateY(-2px);
}

</style>
<ul class="pill-list">
  {% for service in location_services %}

    {# --- Build clean service slug --- #}
    {% set service_slug = service|lower
        |replace('&', 'and')
        |replace(' / ', '-')
        |replace('/', '-')
        |replace(' ', '-')
        |replace('--','-')
        |trim('-')
    %}

    {# --- Clean location (remove "cleaning services") --- #}
    {% set clean_location = current_location|lower
        |replace(' cleaning services','')
        |replace('cleaning services','')
        |replace('-cleaning-services','')
        |replace('cleaning-services','')
        |replace('--','-')
        |trim('-')
    %}

    <li>
      <a href="/services/{{ service_slug }}-service-{{ clean_location }}-texas">
        {{ service }}
      </a>
    </li>

  {% endfor %}
</ul>





</aside>

</section>

</main>

<!-- ================= CTA ================= -->

<section class="cta">
  <div class="cta-inner">

    <img src="/static/images/dfwlogo.png" alt="Diesel repair service icon">

    <h2>{{ cta_heading }}</h2>
    <p>{{ cta_subtext }}</p>

    <div class="cta-buttons">
      <a href="/contact" class="btn btn-primary">
        REQUEST A FREE QUOTE
      </a>

      <a href="/booking" class="btn btn-primary">
        REQUEST ON-SITE SERVICES
      </a>
    </div>

  </div>
</section>
<style>
  /* ============================
   BASE
============================ */

body{
  background:#ffffff;
  color:#111;
  line-height:1.2;
  font-family:Arial, Helvetica, sans-serif;
}

/* ============================
   HERO
============================ */
:root{
  --hero-image: url("static/images/hero-home.jpg");
}
.hero{
  height:420px;
  background:
    linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)),
    url("{{ url_for('static', filename='images/hero-home.jpg') }}")
    center/cover no-repeat;
  display:flex;
  align-items:center;
  justify-content:center;
}

.hero-overlay{
  
  text-align:center;
  color:#fff;
  max-width:900px;
  padding:0 20px;
}

.hero-overlay h1{
  font-size:48px;
  margin-bottom:14px;
}

.hero-overlay p{
  font-size:20px;
  margin-bottom:26px;
}

/* ============================
   HERO BUTTON
============================ */
/* ============================
   HERO BUTTONS (Responsive)
============================ */

.btn-hero,
.btn-secondary{
  background:#4f83bf;
  color:#fff;
  padding:14px 22px;
  border-radius:999px;
  text-decoration:none;
  font-weight:700;
  transition:0.25s ease;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  white-space:nowrap;
  font-size:16px;
  min-height:48px;      
  border: none;      /* Finger-friendly */
}

/* Primary */

.btn-hero{
  background:#4f83bf;
  color:#fff;
}

.btn-hero:hover{
  background:#3f73ad;
  transform:translateY(-2px);
}

/* Secondary */

.btn-secondary{
  background:#ffffff;
  color:#4f83bf;
  border:2px solid #4f83bf;
  border: none;
}

.btn-secondary:hover{
  background:#4f83bf;
  color:#ffffff;
  transform:translateY(-2px);
}

/* ============================
   TABLET
============================ */

@media (max-width:1024px){

  .btn-hero,
  .btn-secondary{
    padding:13px 20px;
    font-size:15px;
  }

}

/* ============================
   MOBILE
============================ */

@media (max-width:768px){

  .btn-hero,
  .btn-secondary{
    width:100%;                /* Full-width CTA */
    font-size:15px;
    padding:14px 18px;
  }

}

/* ============================
   SMALL PHONES
============================ */

@media (max-width:480px){

  .btn-hero,
  .btn-secondary{
    font-size:14px;
    padding:13px 16px;
    min-height:46px;
  }

}

/* ============================
   LAYOUT
============================ */

.page-wrapper{
  color: black;
  max-width:1200px;
  margin:80px ;
  margin-left: 50px;
  padding:0 22px;
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:50px;
}

/* ============================
   CONTENT AREA
============================ */

.content-area h1{
  font-size:30px;
  margin-bottom:14px;
}

.content-area h2{
  font-size:22px;
  margin-top:42px;
  margin-bottom:12px;
  font-weight:800;
}

.content-area p{
  
  font-size:16px;
  margin-bottom:18px;
}

.content-area ul{
  margin-left: 30px;
  list-style:none;
  padding-left:0;
}

.content-area ul li{
  position:relative;
  padding-left:20px;
  margin-bottom:12px;
}

.content-area ul li::before{
  content:"•";
  position:absolute;
  left:0;
}

.content-area strong{
  color:black;
}

.content-area ol{
  padding-left:22px;
}

.content-area ol li{
  margin-bottom:10px;
}

/* ============================
   SIDEBAR CARD
============================ */

.help-card{
  background:#fff;
  border-radius:26px;
  padding:28px 26px;
  border:2px solid #4f83bf;
  box-shadow:10px 10px 0 black;
  position:sticky;
  top:30px;
}

/* ============================
   SIDEBAR TITLES
============================ */

.help-title{
  text-align:center;
  font-size:20px;
  font-weight:800;
  margin-bottom:22px;
}

.help-card h4{
  font-size:16px;
  font-weight:800;
  margin-bottom:14px;
}

/* ============================
   SIDEBAR BUTTONS
============================ */

.help-btn{
  display:block;
  width:90%;
  margin:0 auto 14px;
  background:#4f83bf;
  color:#fff;
  text-align:center;
  padding:14px 18px;
  border-radius:999px;
  font-weight:700;
  text-decoration:none;
  font-size:15px;
  transition:.25s ease;
}

.help-btn:hover{
  background:#4f83bf;
  transform:translateY(-2px);
  box-shadow:0 6px 0 #4f83bf;
}

/* ============================
   DIVIDER
============================ */

.divider{
  height:1px;
  background:#e5e5e5;
  margin:22px 0;
}

/* ============================
   SIDEBAR LIST
============================ */

.help-list{
  list-style:none;
  padding:0;
  margin:0;
}

.help-list li{
  position:relative;
  padding-left:26px;
  margin-bottom:12px;
  font-size:15px;
}

.help-list li::before{
  content:"✓";
  position:absolute;
  left:0;
  color:black;
  font-weight:900;
}

/* ============================
   CTA
============================ */

.cta{
  color: black;
  padding:110px 20px;
  background:#fff;
}

.cta-inner{
  max-width:900px;
  margin:auto;
  text-align:center;
}

.cta-inner img{
  width:100px;
  margin-bottom:24px;
}

.cta-inner h2{
  font-size:38px;
  margin-bottom:12px;
}

.cta-inner p{
  font-size:18px;
  margin-bottom:34px;
}

.cta-buttons{
  display:flex;
  justify-content:center;
  gap:24px;
}

/* ============================
   CTA BUTTON
============================ */

.btn-primary{
  background:#4f83bf;
  color:#fff;
  padding:14px 30px;
  border-radius:999px;
  font-weight:700;
  text-decoration:none;
}

.btn-primary:hover{
  background:#4f83bf;
}


/* ============================
   MOBILE
============================ */

@media(max-width:900px){

  .page-wrapper{
    grid-template-columns:1fr;
  }

  .help-card{
    position:static;
    margin-top:40px;
  }

  .hero-overlay h1{
    font-size:34px;
  }

  .cta-inner h2{
    font-size:28px;
  }

}
/* ======================================================
   GLOBAL MOBILE SAFETY
====================================================== */

*{
  box-sizing:border-box;
}

body{
  overflow-x:hidden;
}

/* ======================================================
   HERO RESPONSIVE
====================================================== */

@media(max-width:900px){

  .hero{
    color: #111;
    height:auto;
    padding:80px 0;
  }

  .hero-overlay h1{
    font-size:34px;
    line-height:1.15;
  }

  .hero-overlay p{
    font-size:17px;
  }
}

@media(max-width:480px){

  .hero-overlay h1{
    color: #111;
    font-size:28px;
  }

  .hero-overlay p{
    font-size:15px;
  }
}

/* ======================================================
   HERO BUTTON STACKING
====================================================== */

.hero-overlay{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
}

/* ======================================================
   MAIN LAYOUT FIX
====================================================== */

.page-wrapper{
  margin:80px auto;      /* center */
  padding:0 20px;
}

@media(max-width:900px){

  .page-wrapper{
    grid-template-columns:1fr;
    margin:40px auto;
    gap:40px;
  }

}

/* ======================================================
   CONTENT AREA RESPONSIVE
====================================================== */

@media(max-width:600px){

  .content-area h1{
    font-size:24px;
  }

  .content-area h2{
    font-size:19px;
  }

  .content-area p,
  .content-area li{
    font-size:15px;
  }

}

/* ======================================================
   SIDEBAR CARD MOBILE
====================================================== */

@media(max-width:900px){

  .help-card{
    position:static;
    box-shadow:none;
    margin-top:20px;
  }

}

/* ======================================================
   SERVICE PILLS
====================================================== */

.pill-list{
  justify-content:center;
}

@media(max-width:480px){

  .pill-list li a{
    font-size:12px;
    padding:9px 14px;
  }

}

/* ======================================================
   CTA RESPONSIVE
====================================================== */

@media(max-width:900px){

  .cta{
    padding:70px 20px;
  }

  .cta-inner h2{
    font-size:26px;
  }

  .cta-inner p{
    font-size:16px;
  }

  .cta-buttons{
    flex-direction:column;
    align-items:center;
  }

  .cta-buttons a{
    width:100%;
    max-width:340px;
    text-align:center;
  }

}

@media(max-width:480px){

  .cta-inner img{
    width:70px;
  }

  .cta-inner h2{
    font-size:22px;
  }

}

</style>
{% endblock %}